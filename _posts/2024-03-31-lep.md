---
title: List Encapsulation Pattern
---
<!---
https://gist.github.com/rxaviers/7360908
-->
Bonjour !

Pour mon tout premier article j'ai décidé de vous parler d'un pattern que j'ai nommé **LEP** pour **List Encapsulation Pattern**. Derrière cet acronymme se cache en réalité un concept très simple à comprendre et à adopter. D'ailleurs il est tout à fait possible que ce soit quelque chose que vous appliquiez déjà, mais visiblement [les patterns sont plus populaire lorsqu'on leur donne un nom sympa](https://fr.wikipedia.org/wiki/Plain_old_Java_object#Description) donc c'est ce que j'ai essayé de faire. Après est-ce que ce nom est sympa ? Je vous laisserai juger :smile:

Comme tout *bon* développeur java, j'utilise les `Collection` et les `stream` au quotidien pour le traitement de mes données. Je vais vous montrer à travers un exemple comment implémenter des traitements sur une `List` d'abord sans, puis ensuite avec le pattern LEP.

## Ennoncé : 
On considère qu'on a les deux interfaces `Student` et `StudentRepository` comme ci-dessous :
```java
public interface Student {
    BigDecimal computeAverage();
}

public interface StudentRepository {
    List<Student> findAll();
}
```

On souhaite implémenter la méthode `findStudentWithBestAverage()` de la classe `StudentService` ci-dessous.
```java
public class StudentService {
    
    private final StudentRepository repository;
    
    public StudentService(StudentService repository) {
        this.repository = repository;
    }

    public Optional<Student> findStudentWithBestAverage() {
        List<Student> students = repository.findAll();
        //TODO - implémenter la recherche de l'étudiant qui a la meilleure moyenne
    }
}
```

## AntiPattern
La première solution qui pourrait nous venir à l'esprit est l'implémentation ci-dessous :

```java
public class StudentService {
    
    private final StudentRepository repository;
    
    public StudentService(StudentService repository) {
        this.repository = repository;
    }

    public BigDecimal computeMaleStudentsAverage() {
        List<Student> students = repository.findAll();
        return 
    }
}
```

### Service
### Utils/Helper

## LEP

## Les tests

## Comment l'adopter ?

## Conclusion

